(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{572:function(t,s,a){"use strict";a.r(s);var n=a(13),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"🐪工作经验汇总"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐪工作经验汇总"}},[t._v("#")]),t._v(" 🐪工作经验汇总")]),t._v(" "),a("blockquote",[a("p",[t._v("“犯过的错误，就不要再犯了罢！加油，优秀的前端er！” —— 沃兹基硕德")])]),t._v(" "),a("h2",{attrs:{id:"如何做好一名团队中的新人"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何做好一名团队中的新人"}},[t._v("#")]),t._v(" 如何做好一名团队中的新人？")]),t._v(" "),a("p",[t._v("感谢"),a("a",{attrs:{href:"https://space.bilibili.com/294639735?spm_id_from=333.788.b_765f7570696e666f.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("东哥"),a("OutboundLink")],1),t._v("的经验之谈~作为一名萌新，努力做好团队中的一名新人吧！"),a("strong",[t._v("少说多做")]),t._v("，追求快速而合理的成长！")]),t._v(" "),a("blockquote",[a("p",[t._v("作为新人最重要的事情就一件，就是把手头上的事情做好，这个基本的做不好，其他的都是白扯。\n不过做好手头上的事情有一些需要注意的地方/技巧：")]),t._v(" "),a("ol",[a("li",[t._v("不懂就问。但是要注意提问之前先翻一翻文档，别问重复的问题，提问的时候讲清楚背景，可以问之前先自己演练一遍")]),t._v(" "),a("li",[t._v("维护好私人关系。比如你经常问某人问题，可以私下以奶茶、请吃小饭的形式来做个感谢，因为职场里面没有人有义务给你解答问题")]),t._v(" "),a("li",[t._v("可以找个榜样。比如你觉得身边的某人很屌，可以多跟人交流，不过这里需要注意，其实很多人工作了多年依然可能是迷茫的，注意兼听则明")]),t._v(" "),a("li",[t._v("手头上事情做好的前提下，可以考虑优化、整理文档手册这种事情，这些事情和主业务是分离的不会耽误业务进度，而且可以体现你的思考")]),t._v(" "),a("li",[t._v("多阅读组内的知识库 & 手头项目，学习优秀的部分！")])])]),t._v(" "),a("h2",{attrs:{id:"常用git命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用git命令"}},[t._v("#")]),t._v(" 常用git命令")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("常用 Git 命令清单 - 阮一峰的网络日志"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png",alt:"img"}})]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("Workspace：工作区")]),t._v(" "),a("li",[t._v("Index / Stage：暂存区")]),t._v(" "),a("li",[t._v("Repository：仓库区（或本地仓库）")]),t._v(" "),a("li",[t._v("Remote：远程仓库")])])])]),t._v(" "),a("h3",{attrs:{id:"git的配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git的配置"}},[t._v("#")]),t._v(" git的配置")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("常用 Git 命令清单 - 阮一峰的网络日志"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("git修改Git的设置文件为"),a("code",[t._v(".gitconfig")]),t._v("，它可以在——")]),t._v(" "),a("ul",[a("li",[t._v("用户主目录下（全局配置）")]),t._v(" "),a("li",[t._v("也可以在项目目录下（项目配置）。")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示当前的Git配置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --list\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 编辑Git配置文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config -e "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置提交代码时的用户信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" user.name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[name]"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" user.email "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[email address]"')]),t._v("\n")])])]),a("h3",{attrs:{id:"修改、配置、查看用户信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改、配置、查看用户信息"}},[t._v("#")]),t._v(" 修改、配置、查看用户信息")]),t._v(" "),a("p",[t._v("公司的代码仓库不会允许公司之外的用户向仓库提交代码，所以我们要局部配置用户信息，证明我们是自己人！")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("注意这里使用 "),a("code",[t._v('git config user.name "myName"')]),t._v("配置用户之后 committer_name为"),a("code",[t._v("“myName”")])]),t._v("！！")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071604610.png",alt:"image-20220207160403543"}})]),t._v(" "),a("p",[t._v("但是一般公司要求为——")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071609185.png",alt:"image-20220207160921124"}})]),t._v(" "),a("p",[a("strong",[t._v("要的是"),a("code",[t._v("myName")]),t._v(" 没有引号！")])]),t._v(" "),a("p",[t._v("所以 根据需要进行用户信息的配置~")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v('git commit --amend --author="author名称 <emial详情>" --no-edit')]),t._v("用于更改最近一条的错误committer_name & committer_email")])]),t._v(" "),a("ul",[a("li",[t._v("查看（局部）配置\n"),a("ul",[a("li",[t._v("要查看全局的配置使用 "),a("code",[t._v("git config --list")])])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.name\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.email\n")])])]),a("ul",[a("li",[t._v("局部配置")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.email "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),t._v("\n")])])]),a("ul",[a("li",[t._v("全局配置")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),t._v("\n")])])]),a("ul",[a("li",[t._v("局部修改")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("git config "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("replace"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("all user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v("\ngit config "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("replace"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("all user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("email "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@x.com"')]),t._v("\n")])])]),a("h3",{attrs:{id:"强制覆盖-撤销-已经提交到远程仓库的无用的commit【慎用-】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#强制覆盖-撤销-已经提交到远程仓库的无用的commit【慎用-】"}},[t._v("#")]),t._v(" 强制覆盖（撤销）已经提交到远程仓库的无用的commit【慎用！】")]),t._v(" "),a("p",[t._v("先回退到之前的版本")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" log 查看想退回去的版本号 \n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --hard 目标版本号\n")])])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://blog.csdn.net/qq_42764468/article/details/122134247",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 撤销远程仓库的提交（push）和本地仓库的提交（commit）"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("强制提交提交这个操作之前要问下仓库管理者能不能这样操作，我负责那个项目的前辈给我的指示是——“脏记录没关系，别用"),a("code",[t._v("push –force")]),t._v("”")])]),t._v(" "),a("p",[t._v("注意下 "),a("code",[t._v("git push –force")]),t._v("的概念，ta比较暴力——")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 强行推送当前分支到远程仓库，即使有冲突")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("remote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --force\n")])])])]),t._v(" "),a("h2",{attrs:{id:"代码仓库相关规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码仓库相关规范"}},[t._v("#")]),t._v(" 代码仓库相关规范")]),t._v(" "),a("h3",{attrs:{id:"分支管理-gitflow工作流概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支管理-gitflow工作流概述"}},[t._v("#")]),t._v(" 分支管理 "),a("code",[t._v("Gitflow")]),t._v("工作流概述")]),t._v(" "),a("blockquote",[a("p",[t._v("一个功能一个分支，写完了一个功能就提pr 提完pr就删除分支~")]),t._v(" "),a("p",[t._v("技术指导："),a("a",{attrs:{href:"https://github.com/xirong/my-git/blob/master/git-workflow-tutorial.md#236-%E7%A4%BA%E4%BE%8B",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("my-git/git-workflow-tutorial.md at master · xirong/my-git (github.com)")]),a("OutboundLink")],1)])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202201141843069.png",alt:"image-20220114184351013"}})]),t._v(" "),a("p",[t._v("我们假设a与b协作完成一个任务")]),t._v(" "),a("p",[t._v("【1】先创建一个develop分支")]),t._v(" "),a("blockquote",[a("p",[t._v("精神分裂式开发模式开启！")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202021744900.png",alt:"image-20220202174435852"}})]),t._v(" "),a("p",[t._v("第一步为"),a("code",[t._v("master")]),t._v("分支配套一个"),a("code",[t._v("develop")]),t._v("分支。简单来做可以"),a("a",{attrs:{href:"https://www.atlassian.com/git/tutorial/git-branches#!branch",target:"_blank",rel:"noopener noreferrer"}},[t._v("本地创建一个空的"),a("code",[t._v("develop")]),t._v("分支"),a("OutboundLink")],1),t._v("，"),a("code",[t._v("push")]),t._v("到服务器上：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -u origin develop\n")])])]),a("p",[t._v("以后这个分支将会包含了项目的全部历史，而"),a("code",[t._v("master")]),t._v("分支将只包含了部分历史。其它开发者这时应该"),a("a",{attrs:{href:"https://www.atlassian.com/git/tutorial/git-basics#!clone",target:"_blank",rel:"noopener noreferrer"}},[t._v("克隆中央仓库"),a("OutboundLink")],1),t._v("，建好"),a("code",[t._v("develop")]),t._v("分支的跟踪分支：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone ssh://user@host/path/to/repo.git\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b develop origin/develop\n")])])]),a("p",[t._v("现在每个开发都有了这些历史分支的本地拷贝。")]),t._v(" "),a("p",[t._v("【2】举例：a创建一个功能分支负责写一下CSS，初始化一下项目，")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b some-feature develop\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("some-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit\n")])])]),a("p",[t._v("写完之后推到develop中 然后删除功能分支")]),t._v(" "),a("blockquote",[a("p",[t._v("个人感觉：功能分支的作用-划分功能时比较清晰且review代码时更加一目了然。想象一下，直接在develop上开发大家就没法每天在自己的分支上进行提交了！这版本该有多混乱！")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202201141844593.png",alt:"image-20220114184343296"}})]),t._v(" "),a("blockquote",[a("p",[t._v("注意develop上面的版本应该是一个稳定可运行的版本，功能分支推给develop分支的版本应该较完善才对！")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull origin develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge some-feature\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -d some-feature\n")])])]),a("p",[t._v("【3】举例：b也基于develop创建一个功能分支，进行项目核心功能的开发~与【2】的流程同理")]),t._v(" "),a("blockquote",[a("p",[t._v("疑问：那再来一拨人开发不太相干的内容是否需要再搞一个develop2出来呢？还是说再搞一个功能分支出来？")])]),t._v(" "),a("p",[t._v("【4】进行发布 涉及到release层")]),t._v(" "),a("p",[t._v("等两边分别开发得差不多了就整一个release")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b release-0.1 develop\n")])])]),a("p",[t._v("这个分支是清理发布、执行所有测试、更新文档和其它为下个"),a("strong",[t._v("发布")]),t._v("做准备操作的地方，像是一个专门用于改善发布的功能分支。")]),t._v(" "),a("p",[t._v("【5】完成发布 将修改合并到main分支")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout main\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge release-0.1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge release-0.1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -d release-0.1\n")])])]),a("p",[t._v("【6】特殊情况——比如：修改之前版本的问题")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b issue-"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#001 main")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Fix the bug")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout main\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge issue-"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#001")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n")])])]),a("p",[t._v("就像发布分支，维护分支中新加这些重要修改需要包含到"),a("code",[t._v("develop")]),t._v("分支中，所以要再在develop执行一个合并操作。然后就可以安全地"),a("a",{attrs:{href:"https://www.atlassian.com/git/tutorial/git-branches#!branch",target:"_blank",rel:"noopener noreferrer"}},[t._v("删除这个分支"),a("OutboundLink")],1),t._v("了：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge issue-"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#001")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -d issue-"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#001")]),t._v("\n")])])]),a("h3",{attrs:{id:"commit命名规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commit命名规范"}},[t._v("#")]),t._v(" commit命名规范")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新功能 feature")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一个错误修复")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重构(既不增加新功能，也不是修复bug)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 仅文档更改")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加缺失的测试或更正现有的测试")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建过程/辅助工具等的修改")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不影响代码含义的更改（空白，格式，缺少分号等，即为 格式调整）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 改进性能的代码更改")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回滚到某个版本")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ci'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// CI配置/脚本的调整")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试调整（增加测试用例等）")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eg: 'feat: 添加了图表功能'")]),t._v("\n")])])]),a("h3",{attrs:{id:"推代码之前要先拉取-在同一个分支上开发-子分支拉父分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#推代码之前要先拉取-在同一个分支上开发-子分支拉父分支"}},[t._v("#")]),t._v(" 推代码之前要先拉取（在同一个分支上开发/子分支拉父分支）")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://blog.csdn.net/weixin_45162906/article/details/119930857",target:"_blank",rel:"noopener noreferrer"}},[t._v("git push时出现的Merge branch ‘xxx‘ into ‘xxx‘"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/wm5920/article/details/79731983",target:"_blank",rel:"noopener noreferrer"}},[t._v("git解决merge branch_球球之家-CSDN博客"),a("OutboundLink")],1),t._v("——解决方案——在push失败的时候，先pull，然后force rebase再push即可解决")])]),t._v(" "),a("p",[t._v("如果没养成这种习惯，会导致git log中出现“Merge branch ”xxx” into “xxx” 这一条 不够规范！")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/FangzhouSu/blog-image/main/202204121740400.png",alt:"image-20220412174010312"}})]),t._v(" "),a("h3",{attrs:{id:"合并代码的四种方式-merge-squash-rebase"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合并代码的四种方式-merge-squash-rebase"}},[t._v("#")]),t._v(" 合并代码的四种方式-merge squash rebase")]),t._v(" "),a("blockquote",[a("p",[t._v("组内知识手册")])]),t._v(" "),a("p",[t._v("若评审通过后，根据合并策略的设置，确定是否需要自动合并到目标分支。")]),t._v(" "),a("ul",[a("li",[t._v("若合并策略勾选了允许评审通过后自动合并代码，则代码将会自动合入到目标分支；")]),t._v(" "),a("li",[t._v("若未勾选，则需要目标分支有权限的成员，根据需求，选择相应的合并方式进行手动合并； 我们提供四种合并方式：")])]),t._v(" "),a("p",[t._v("四种代码合并方式的定义")]),t._v(" "),a("p",[a("strong",[t._v("Merge")]),t._v("：这种方式会优先尝试fast-forward（快进）方式merge，若行不通，再尝试non-fast forward方式。"),a("strong",[t._v("默认方式")])]),t._v(" "),a("p",[a("strong",[t._v("Merge with non fast-forward")]),t._v("：采用non-fast forward方式merge，总是会在目标分支头部生成一个合并点。")]),t._v(" "),a("p",[a("strong",[t._v("Squash and merge")]),t._v("：将源分支上所有要合并的commits先汇合成一个commit，然后提交到目标分支头部。")]),t._v(" "),a("p",[a("strong",[t._v("Rebase and merge")]),t._v("：Rebase是一种变基操作，本质是将source branch的commits一个一个有序的cherry pick到目标分支头部，保留每个commit的内容但变更sha1。使目标分支的版本树看起来是一条线，简洁易读。")]),t._v(" "),a("p",[a("strong",[t._v("手动合并")]),t._v("选择页面如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071509313.png",alt:"image-20220207150906188"}})]),t._v(" "),a("p",[a("strong",[t._v("四种合并方式的定义与图解")])]),t._v(" "),a("h4",{attrs:{id:"_1-merge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-merge"}},[t._v("#")]),t._v(" 1. Merge")]),t._v(" "),a("p",[t._v("这种方式会优先尝试fast-forward（快进）方式merge，若行不通，再尝试non-fast forward方式。这个方式是"),a("strong",[t._v("默认方式")]),t._v("。")]),t._v(" "),a("h5",{attrs:{id:"示例一-fast-forward方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例一-fast-forward方式"}},[t._v("#")]),t._v(" "),a("strong",[t._v("示例一：fast-forward方式")])]),t._v(" "),a("p",[t._v("如下图所示，bugfix分支从master分支branch out（切出来）。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071511168.png",alt:"image-20220207151128103"}})]),t._v(" "),a("p",[t._v("合并bugfix分支到master分支时，master分支的状态"),a("strong",[t._v("没有被更新过")]),t._v("。\n此时Merge会优先采用"),a("strong",[t._v("fast-forward")]),t._v("（快进）方式，将master分支的head移动到bugfix分支的最新提交。merge后的版本树如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071511601.png",alt:"image-20220207151151534"}})]),t._v(" "),a("h5",{attrs:{id:"示例二-non-fast-forward方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例二-non-fast-forward方式"}},[t._v("#")]),t._v(" "),a("strong",[t._v("示例二：non-fast forward方式")])]),t._v(" "),a("p",[t._v("同样的，bugfix分支从master分支branch out，但此后"),a("strong",[t._v("master分支上有新的提交")]),t._v("。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071521228.png",alt:""}})]),t._v(" "),a("p",[t._v('合并bugfix分支到master分支时，Merge会采用**"non-fast forward"**方式，在目标分支头部生成一个新的merge point '),a("code",[t._v("E")]),t._v("。merge结果如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071513954.png",alt:"image-20220207151336894"}})]),t._v(" "),a("h4",{attrs:{id:"_2-merge-with-non-fast-forward"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-merge-with-non-fast-forward"}},[t._v("#")]),t._v(" 2. Merge with non-fast forward")]),t._v(" "),a("p",[t._v("采用non-fast forward方式merge，总是会在目标分支头部生成一个merge point（合并点）。")]),t._v(" "),a("h5",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" "),a("strong",[t._v("示例：")])]),t._v(" "),a("p",[t._v("如下图，bugfix分支从master分支branch out，此后master分支"),a("strong",[t._v("没有再被更新过")]),t._v("。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071518634.png",alt:"image-20220207151811570"}})]),t._v(" "),a("p",[t._v("采用non-fast forward方式合并bugfix分支到master分支时，会在目标分支master"),a("strong",[t._v("头部产生一个merge point "),a("code",[t._v("C")])]),t._v("。如下图示意：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071518055.png",alt:"image-20220207151826999"}})]),t._v(" "),a("h4",{attrs:{id:"_3-squash-and-merge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-squash-and-merge"}},[t._v("#")]),t._v(" 3. Squash and merge")]),t._v(" "),a("p",[t._v("将源分支上所有要合并的commits先汇合成一个commit，然后提交到目标分支头部。")]),t._v(" "),a("h5",{attrs:{id:"示例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[t._v("#")]),t._v(" "),a("strong",[t._v("示例：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071521228.png",alt:"image-20220207152130148"}})]),t._v(" "),a("p",[t._v("采用squash方式合并bugfix分支到master分支时，bugfix分支的commitX和commitY会先被汇合成一个commit，然后被提交到master分支头部。如下图示：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071522633.png",alt:"image-20220207152218543"}})]),t._v(" "),a("h4",{attrs:{id:"_4-rebase-and-merge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-rebase-and-merge"}},[t._v("#")]),t._v(" 4. Rebase and merge")]),t._v(" "),a("blockquote",[a("p",[t._v("好文推荐，点出了很多应用场景"),a("a",{attrs:{href:"https://www.cnblogs.com/kidsitcn/p/5339382.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("git rebase vs git merge详解 - 世有因果知因求果 - 博客园 (cnblogs.com)"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Rebase是一种变基操作，"),a("strong",[t._v("本质是将source branch的commits一个一个有序的cherry pick到目标分支头部")]),t._v("，保留每个commit的内容。使目标分支的版本树看起来是一条线，简洁易读。")]),t._v(" "),a("blockquote",[a("p",[t._v("cherry-pick即“摘樱桃”，使用该命令可以将任意的commit通过其commit号将其合并到你想要的分支上")])]),t._v(" "),a("h5",{attrs:{id:"示例-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-3"}},[t._v("#")]),t._v(" "),a("strong",[t._v("示例：")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071521228.png",alt:"image-20220207152130148"}})]),t._v(" "),a("p",[t._v("采用rebase方式合并bugfix分支到master分支时，bugfix分支的commitX和commitY会被有序的添加到master分支的头部。如图所示，master分支的历史记录成一条直线。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202071527612.png",alt:"image-20220207152709527"}})]),t._v(" "),a("h3",{attrs:{id:"ssh在git中的意义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh在git中的意义"}},[t._v("#")]),t._v(" SSH在git中的意义")]),t._v(" "),a("p",[t._v("SSH是一种协议标准,其目的是实现"),a("strong",[t._v("安全远程登录")]),t._v("以及其它"),a("strong",[t._v("安全网络服务")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("SSH(Secure Shell)")]),t._v("仅仅是一个"),a("strong",[t._v("协议标准")]),t._v(" ,其具体的实现有很多,既有开源实现的OpenSSH,也有商业实现方案.使用范围最广泛的当然是开源实现OpenSSH.")])]),t._v(" "),a("p",[t._v("如何实现数据的安全呢？首先想到的实现方案肯定是对数据进行加密.加密的方式主要有两种:")]),t._v(" "),a("ol",[a("li",[t._v("对称加密（也称为秘钥加密）")]),t._v(" "),a("li",[t._v("非对称加密（也称公钥加密）")])]),t._v(" "),a("p",[t._v("非对称加密")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/9818632-8b02afc463f47a89.jpg",alt:"img"}})]),t._v(" "),a("p",[t._v("1.远程Server收到Client端用户TopGun的登录请求，"),a("strong",[t._v("Server把自己的公钥发给用户.")])]),t._v(" "),a("p",[t._v("2.Client使用这个公钥,将密码进行加密.")]),t._v(" "),a("p",[t._v("3.Client将加密的密码发送给Server端.")]),t._v(" "),a("p",[t._v("4.远程Server用自己的私钥,解密登录密码,然后验证其合法性.")]),t._v(" "),a("p",[t._v("5.若验证结果,给Client相应的响应.")]),t._v(" "),a("p",[t._v("可能出现的安全问题，中间人攻击——")]),t._v(" "),a("blockquote",[a("p",[t._v("Client端不能保证接受到的公钥就是目标Server端的,如果一个攻击者中途拦截Client的登录请求,向其发送自己的公钥,Client端"),a("strong",[t._v("用攻击者的公钥进行数据加密")]),t._v(".攻击者接收到加密信息后"),a("strong",[t._v("再用自己的私钥进行解密")]),t._v(",不就窃取了Client的登录信息了吗？这就是所谓的"),a("em",[t._v("中间人攻击")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/9818632-0c6da2b6e1346e7f.jpg",alt:"img"}})]),t._v(" "),a("p",[t._v("SSH的作用 在非对称加密中 （帮助客户端）"),a("strong",[t._v("对服务端的公钥进行认证")])]),t._v(" "),a("ul",[a("li",[t._v("在https中可以通过CA来进行公证,可是SSH的publish key和private key都是自己生成的,没法公证.只能通过Client端自己对公钥进行确认")])]),t._v(" "),a("p",[t._v("SSH基于公钥进行认证的方式——")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/9818632-53cf70110d87cfbc.jpg",alt:"img"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202201200956946.png",alt:"image-20220120095656824"}})]),t._v(" "),a("p",[t._v("作者：shuaiutopia\n链接：https://www.jianshu.com/p/cab7e436a7aa\n来源：简书\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。")]),t._v(" "),a("h2",{attrs:{id:"效率工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#效率工具"}},[t._v("#")]),t._v(" 效率工具")]),t._v(" "),a("blockquote",[a("p",[t._v("mac环境的 oh my zsh")])]),t._v(" "),a("h3",{attrs:{id:"autojump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#autojump"}},[t._v("#")]),t._v(" "),a("code",[t._v("autojump")])]),t._v(" "),a("p",[t._v("记忆化地jump到你曾经cd到过的地方，尤其适合GUI与命令行灵巧结合的mac")]),t._v(" "),a("h2",{attrs:{id:"项目性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目性能优化"}},[t._v("#")]),t._v(" 项目性能优化")]),t._v(" "),a("h2",{attrs:{id:"项目难点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目难点"}},[t._v("#")]),t._v(" 项目难点")]),t._v(" "),a("h2",{attrs:{id:"工作经验汇总"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作经验汇总"}},[t._v("#")]),t._v(" 工作经验汇总")]),t._v(" "),a("h3",{attrs:{id:"项目中readme的规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目中readme的规范"}},[t._v("#")]),t._v(" 项目中readme的规范")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("1.项目简介")])]),t._v(" "),a("li",[a("p",[t._v("2.项目地址")]),t._v(" "),a("ul",[a("li",[a("blockquote",[a("p",[t._v("线上：prod（正式）、stagein（预发）")]),t._v(" "),a("p",[t._v("线下：test（公共测试环境）、dev（研发自用环境）")])])]),t._v(" "),a("li",[a("p",[t._v("prod")])]),t._v(" "),a("li",[a("p",[t._v("stage")])]),t._v(" "),a("li",[a("p",[t._v("test")])]),t._v(" "),a("li",[a("p",[t._v("develop")])])])]),t._v(" "),a("li",[a("p",[t._v("3.项目结构")])]),t._v(" "),a("li",[a("p",[t._v("4.开发步骤")]),t._v(" "),a("ul",[a("li",[t._v("开发工具")]),t._v(" "),a("li",[t._v("安装依赖")]),t._v(" "),a("li",[t._v("启动服务")])])]),t._v(" "),a("li",[a("p",[t._v("5.相关文档")])])]),t._v(" "),a("h3",{attrs:{id:"多从产品、后端的角度去思考问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多从产品、后端的角度去思考问题"}},[t._v("#")]),t._v(" 多从产品、后端的角度去思考问题！")]),t._v(" "),a("p",[t._v("灵活一些 可以"),a("strong",[t._v("减少一些沟通成本")]),t._v("！")]),t._v(" "),a("h3",{attrs:{id:"不要使用意义不明的变量-使用映射进行代替"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不要使用意义不明的变量-使用映射进行代替"}},[t._v("#")]),t._v(" 不要使用意义不明的变量，使用映射进行代替")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bad")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// good")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" xxMap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("tip1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("tip2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xxMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tip1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xxMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tip2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("这样写后期如果想修改具体的字段对应的映射（比如 tip1传入的参数改为0 tip2改为1） 会非常方便，写逻辑的时候也会直观很多！")])]),t._v(" "),a("h3",{attrs:{id:"组件封装注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件封装注意事项"}},[t._v("#")]),t._v(" 组件封装注意事项")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("样式问题")]),t._v(" "),a("ul",[a("li",[t._v("组件只在乎自己内部的样式 不要设置组件整体的margin padding 这样普适性太差了！")])])]),t._v(" "),a("li",[a("p",[t._v("减少与业务强相关的变量、方法 通过业务组件的传值解决这部分需求")])]),t._v(" "),a("li",[a("p",[t._v("用户自己传入style 更加灵活、扩展能力更强")])]),t._v(" "),a("li",[a("p",[t._v("封装好的组件中的方法里尽量不要加上业务变量")]),t._v(" "),a("ul",[a("li",[t._v("以功能为目的")])])]),t._v(" "),a("li",[a("p",[t._v("要时刻考虑可以把哪些内容封装成组件")]),t._v(" "),a("ul",[a("li",[t._v("四个tab页-每一个都对应一个"),a("code",[t._v("treeSelect")]),t._v(" 要求"),a("code",[t._v("treeSelect")]),t._v("是独立的——可以把ta封装成"),a("code",[t._v("MyTree")]),t._v("组件")])])])]),t._v(" "),a("h3",{attrs:{id:"高内聚-低耦合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高内聚-低耦合"}},[t._v("#")]),t._v(" 高内聚，低耦合")]),t._v(" "),a("ul",[a("li",[t._v("逻辑高内聚的原因——之后好"),a("strong",[t._v("定位错误")]),t._v("改bug，代码优雅")]),t._v(" "),a("li",[t._v("比如在"),a("code",[t._v("getData")]),t._v("方法中进行了列表的请求，如果其他方法中想发起同样的请求，调用"),a("code",[t._v("getData")]),t._v("并向其中传值即可~")])]),t._v(" "),a("h3",{attrs:{id:"代码规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码规范"}},[t._v("#")]),t._v(" 代码规范")]),t._v(" "),a("blockquote",[a("p",[t._v("这个交给"),a("code",[t._v("Eslint")]),t._v("就好了，组里前辈都把规范配置好了，用就完事了~")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202091924837.png",alt:"image-20220209192444646"}})]),t._v(" "),a("p",[t._v("造轮子的问题 这个回头考虑~")])]),t._v(" "),a("h3",{attrs:{id:"业务组件的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#业务组件的使用"}},[t._v("#")]),t._v(" 业务组件的使用")]),t._v(" "),a("blockquote",[a("p",[t._v("业务组件一般在View文件夹中")]),t._v(" "),a("p",[t._v("封装好的普适性组件一般在Components文件夹中")])]),t._v(" "),a("p",[t._v("在封装普适性组件时要全面考虑，这样在写业务组件时才会比较舒服~")]),t._v(" "),a("h3",{attrs:{id:"debug大型项目技巧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#debug大型项目技巧"}},[t._v("#")]),t._v(" debug大型项目技巧")]),t._v(" "),a("blockquote",[a("p",[t._v("前置知识：ES6 React基本思想、一些基础钩子的用法")])]),t._v(" "),a("ul",[a("li",[t._v("找到问题所在页面，根据路由path "),a("code",[t._v("/xx/xx")]),t._v(" 找到对应的组件所在位置")]),t._v(" "),a("li",[t._v("拿到一个组件先一一对应页面与代码，并进行理解，定位问题的位置")]),t._v(" "),a("li",[t._v("找到有问题的组件， 要明白对应属性的概念并合理应用 传入值进去——\n"),a("ul",[a("li",[a("strong",[t._v("现成的组件库")]),t._v(" 打开官网 通过demo/API 理解用法 定位问题/添加需求")]),t._v(" "),a("li",[a("strong",[t._v("组内封装好的组件")]),t._v(" 理解其暴露出来的属性 并且顺着这些属性理解组件渲染出来的效果 并定位问题所在")])])]),t._v(" "),a("li",[t._v("最后 多干掉几个bug就有感觉了 慢慢来吧！")])]),t._v(" "),a("h3",{attrs:{id:"用-useref-钩子代替-usestate-钩子做组件内的状态管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用-useref-钩子代替-usestate-钩子做组件内的状态管理"}},[t._v("#")]),t._v(" 用 "),a("code",[t._v("useRef")]),t._v(" 钩子代替 "),a("code",[t._v("useState")]),t._v(" 钩子做组件内的状态管理")]),t._v(" "),a("blockquote",[a("p",[t._v("待了解"),a("code",[t._v("useRef")]),t._v("的更多用法…")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-reference.html#useref",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("useRef")]),a("OutboundLink")],1),t._v("可达成与 "),a("code",[t._v("useState")]),t._v("类似的效果")]),t._v(" "),a("p",[t._v("在无法使用"),a("code",[t._v("useState")]),t._v("钩子时 考虑使用"),a("code",[t._v("useRef")]),t._v(" 钩子来进行代替，二者区别——")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("setState")]),t._v(" 函数用于更新 state。它接收一个新的 state 值并将组件的一次"),a("strong",[t._v("重新渲染")]),t._v("加入队列。")]),t._v(" "),a("li",[t._v("变更 "),a("code",[t._v(".current")]),t._v(" 属性不会引发组件重新渲染。"),a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202151235522.png",alt:"image-20220215123413232"}})])]),t._v(" "),a("h3",{attrs:{id:"实现新需求的同时-尽可能地减少冗余代码并高度集成功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现新需求的同时-尽可能地减少冗余代码并高度集成功能"}},[t._v("#")]),t._v(" 实现新需求的同时，尽可能地减少冗余代码并高度集成功能：")]),t._v(" "),a("blockquote",[a("p",[t._v("这里是我 简历中JDT实习期间第一个项目的负责内容汇总")])]),t._v(" "),a("ul",[a("li",[t._v("重写复用性不够好的公共组件；")]),t._v(" "),a("li",[t._v("将通用数据以硬编码的方式提升到配置文件中，保证不同业务组件中不会出现冗余的字段；")]),t._v(" "),a("li",[t._v("通过改写对用户信息的存储、获取方式（使用"),a("code",[t._v("mobx")]),t._v("存储状态），减少了业务组件中发送对应请求的次数，减轻了页面加载渲染负担；")])]),t._v(" "),a("h3",{attrs:{id:"项目目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目目录结构"}},[t._v("#")]),t._v(" 项目目录结构")]),t._v(" "),a("blockquote",[a("p",[t._v("后台管理项目的结构——稍微有些老旧的一个项目结构 仅供参考")]),t._v(" "),a("p",[t._v("遇到一个项目 可以尝试着按照这个方式把每一部分过一下 了解下项目的内容~")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("- build  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# webpack 配置文件 里面会区分不同环境")]),t._v("\n- config "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 环境变量 比如 不同环境的请求前缀不一样")]),t._v("\n- "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署镜像用的，切换分支的时候，如果需要部署不同版本的，修改sh，三个环境")]),t._v("\n- public\n- favicon.ico\n- index.html  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 入口html")]),t._v("\n- static "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 静态文件")]),t._v("\n- src\n- components "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 项目通用型组件")]),t._v("\n- config "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义常量")]),t._v("\n- fileDemo "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# demo 文件用于调试的")]),t._v("\n- font "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 字体及图表")]),t._v("\n- hooks "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自定义react hook, useState, useRef")]),t._v("\n- image "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 静态图片比如icon，png，jpg")]),t._v("\n- modules "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 一个个独立的模块。目的，js模块化，想把一个模块暴露出去给其他项目用")]),t._v("\n- router "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由： 路由配置文件（？路由拆成一个个子模块）权限路由的逻辑")]),t._v("\n- "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 接口配置 应该按照服务划分，不应该按照菜单划分")]),t._v("\n- store "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 状态管理")]),t._v("\n- theme "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 主题样式")]),t._v("\n- util "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 工具函数")]),t._v("\n- views "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 视图层")]),t._v("\n- wiki "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 放设计文档")]),t._v("\n- index.js  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#入口js  注入了store")]),t._v("\n- package.json\n- .env."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 环境变量")]),t._v("\n- lerna.json\n- README.MD\n")])])]),a("h3",{attrs:{id:"修bug不要靠猜-要有想法一些"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修bug不要靠猜-要有想法一些"}},[t._v("#")]),t._v(" 修bug不要靠猜！要有想法一些！")]),t._v(" "),a("p",[t._v("修一个异步请求抛出的错误时 前辈无奈地这么教导我")]),t._v(" "),a("p",[t._v("【1】正确追溯到有问题的地方")]),t._v(" "),a("p",[t._v("【2】了解对应内容的逻辑")]),t._v(" "),a("p",[t._v("【3】找出问题，进行修改")]),t._v(" "),a("blockquote",[a("p",[t._v("而不是“把这个删了试试？在这里加点东西试试？” 不对！！")]),t._v(" "),a("p",[t._v("多打断点")])]),t._v(" "),a("h3",{attrs:{id:"添加自定义环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加自定义环境变量"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://www.html.cn/create-react-app/docs/adding-custom-environment-variables/#%E5%9C%A8-env-%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("添加自定义环境变量"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.html.cn/create-react-app/docs/adding-custom-environment-variables/#%E5%9C%A8-env-%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("添加自定义环境变量 · Create React App 中文文档"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202221040139.png",alt:"image-20220222104045045"}})]),t._v(" "),a("h4",{attrs:{id:"环境变量都有啥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量都有啥"}},[t._v("#")]),t._v(" 环境变量都有啥")]),t._v(" "),a("p",[t._v("在生产、开发、测试环境中希望有不同执行的操作")]),t._v(" "),a("p",[t._v("例如 不同的登陆地址 不同的跳转路径")]),t._v(" "),a("h3",{attrs:{id:"灵活使用硬编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#灵活使用硬编码"}},[t._v("#")]),t._v(" 灵活使用硬编码")]),t._v(" "),a("blockquote",[a("p",[t._v("22/3/4")]),t._v(" "),a("p",[t._v("写业务的时候发现有三个组件中存在完全一样的场景，重复写了三遍 "),a("code",[t._v("statusMap")]),t._v(" 这就很冗余 之后如果想改map中的一个字段 就得改三遍 很麻烦！")]),t._v(" "),a("p",[t._v("放到config里统一管理最好！")])]),t._v(" "),a("blockquote",[a("p",[t._v("22/3/18")]),t._v(" "),a("p",[t._v("场景：一个段落文字对应的组件-进行了笨拙的分情况讨论（共三种情况，只有一个字段略有不同） —— 通过硬编码建立映射")]),t._v(" "),a("p",[t._v("“硬编码的思想：一种逻辑的抽离，代码地健壮、可扩展性”")]),t._v(" "),a("p",[t._v("“一部分代码写好了，之后产品加新需求/后端新增字段的时候，能动的代码越少，那么这段代码就更好”")]),t._v(" "),a("p",[t._v("同时也要注意不要为了封装而封装，这段封装要有意义（重复代码较多的时候就要思考可以进行一下硬编码了！）")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202231502079.png",alt:"image-20220223150233949"}})]),t._v(" "),a("h3",{attrs:{id:"一些相似的页面直接复制粘贴就可以-需要额外改改名字、router等配置内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一些相似的页面直接复制粘贴就可以-需要额外改改名字、router等配置内容"}},[t._v("#")]),t._v(" 一些相似的页面直接复制粘贴就可以，需要额外改改名字、router等配置内容")]),t._v(" "),a("ul",[a("li",[t._v("常用在迭代老项目中，新项目需要从头开始码啦~")]),t._v(" "),a("li",[a("strong",[t._v("先整个粘贴过来 然后commit一版")]),t._v(" 之后在此基础上进行细节的一些修改，就可以对比改了哪些部分，改的对不对，更好review代码！")])]),t._v(" "),a("h3",{attrs:{id:"取名不要掺杂太多业务的内容-这样比较好复用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#取名不要掺杂太多业务的内容-这样比较好复用"}},[t._v("#")]),t._v(" 取名不要掺杂太多业务的内容 这样比较好复用~")]),t._v(" "),a("p",[t._v("比如在一个注册任务的组件功能是这样的——")]),t._v(" "),a("p",[a("strong",[t._v("点击按钮触发回调，生成一个弹窗")])]),t._v(" "),a("p",[t._v("如果你取名叫 "),a("code",[t._v("createTask")]),t._v("，就比较有局限性，后期如果在其他组件中服用这个方法 还得疯狂改名字（因为这种方法一般也会带一些其他变量 啥 "),a("code",[t._v("taskDat")]),t._v("变量啊啥的）")]),t._v(" "),a("p",[a("strong",[t._v("起名为 "),a("code",[t._v("createModal")])]),t._v("，也就是创建弹窗 就可以在所有存在弹窗的场景都应用这个方法~")]),t._v(" "),a("p",[t._v("非常方便！")]),t._v(" "),a("h3",{attrs:{id:"反复思考如何使用更少的状态变量来实现业务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#反复思考如何使用更少的状态变量来实现业务"}},[t._v("#")]),t._v(" 反复思考如何使用更少的状态变量来实现业务")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("删去冗余的存储变量可以降低空间复杂度")])]),t._v(" "),a("li",[a("p",[t._v("减少变量也可以让后续新添需求更加轻松，适当添加一些注释，让代码更加容易理解~")])])]),t._v(" "),a("h3",{attrs:{id:"批量修改一些代码时-先将代码加入缓存区-再进行修改-利用vscode的源代码管理工具就可以方便看出更改的内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#批量修改一些代码时-先将代码加入缓存区-再进行修改-利用vscode的源代码管理工具就可以方便看出更改的内容"}},[t._v("#")]),t._v(" 批量修改一些代码时，先将代码加入缓存区，再进行修改 利用vscode的源代码管理工具就可以方便看出更改的内容")]),t._v(" "),a("p",[a("code",[t._v("git add .")])]),t._v(" "),a("h2",{attrs:{id:"工作踩坑经验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作踩坑经验"}},[t._v("#")]),t._v(" 工作踩坑经验")]),t._v(" "),a("h3",{attrs:{id:"画页面的时候把样式还原得好一些-职业一些"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#画页面的时候把样式还原得好一些-职业一些"}},[t._v("#")]),t._v(" 画页面的时候把样式还原得好一些！职业一些！")]),t._v(" "),a("blockquote",[a("p",[t._v("mentor发现我切好的页面和设计稿差距有点大的时候微微皱起了眉头😢")])]),t._v(" "),a("h3",{attrs:{id:"退出git-log命令-退出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#退出git-log命令-退出"}},[t._v("#")]),t._v(" 退出git log命令，退出")]),t._v(" "),a("p",[t._v("啊好蠢的问题")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("输入q\n")])])]),a("h3",{attrs:{id:"please-enter-a-commit-message-to-explain-why-this-merge-is-necessary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#please-enter-a-commit-message-to-explain-why-this-merge-is-necessary"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Please enter a commit message to explain why this merge is necessary.")])]),t._v(" "),a("p",[a("strong",[t._v("请输入提交消息来解释为什么这种合并是必要的")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://images2015.cnblogs.com/blog/630011/201603/630011-20160315120522896-1718649799.jpg",alt:"img"}})]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('git 在pull或者合并分支的时候有时会遇到这个界面。可以不管(直接下面3,4步)，如果要输入解释的话就需要:\n\n1.按键盘字母 i 进入insert模式\n\n2.修改最上面那行黄色合并信息,可以不修改\n\n3.按键盘左上角"Esc"\n\n4.输入":wq",注意是冒号+wq,按回车键即可\n')])])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://stackoverflow.com/questions/19085807/please-enter-a-commit-message-to-explain-why-this-merge-is-necessary-especially",target:"_blank",rel:"noopener noreferrer"}},[t._v("macos - Please enter a commit message to explain why this merge is necessary, especially if it merges an updated upstream into a topic branch - Stack Overflow"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("八年前的一个老问题 hh")])]),t._v(" "),a("h3",{attrs:{id:"防止平台崩溃用不了-做容错处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防止平台崩溃用不了-做容错处理"}},[t._v("#")]),t._v(" 防止平台崩溃用不了——做容错处理")]),t._v(" "),a("blockquote",[a("p",[t._v("年前平台因为这个问题崩溃了一次，因为一个请求500 导致整个系统用不了，裂开😶‍🌫️")]),t._v(" "),a("p",[t._v("22/3/21又碰到了这样的问题，忘记做容错处理了！后端返回数据变化之后页面直接白屏了")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("如果后端返回的数据obj为"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" 则前端的代码中不要出现obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx这种用法\n会导致平台整个用不了\n建议使用\nobj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx ——逻辑与运算 —— 来做一个防范\n保证不会因为后端没有返回数据导致前端页面白屏！\n")])])]),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 防范返回值为null！")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bad")]),t._v("\nlist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" item\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// good")]),t._v("\nlist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" item\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202081808011.png",alt:"image-20220208180850940"}})]),t._v(" "),a("h3",{attrs:{id:"跨域问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨域问题"}},[t._v("#")]),t._v(" 跨域问题")]),t._v(" "),a("blockquote",[a("p",[t._v("暂时还没在工作中踩过坑 前辈都帮着把路铺好了，看看未来什么时候能遇到“铺路”的场景 哈哈")])]),t._v(" "),a("ul",[a("li",[t._v("由来\n"),a("ul",[a("li",[t._v("什么是同源策略及限制，什么组成了源，跨域会导致哪些不能无法操作。")]),t._v(" "),a("li",[t._v("前后端通信的几种方式，跨域通信的几种方式")])])]),t._v(" "),a("li",[t._v("解决方法\n"),a("ul",[a("li",[t._v("jsonp：实现原理，有什么局限； 只能发 get 请求")]),t._v(" "),a("li",[t._v("cors：实现方式，配置跨域头，这些跨域头的含义，跨域携带 cookie 的问题")]),t._v(" "),a("li",[t._v("转为同域： 做代理")])])])]),t._v(" "),a("h3",{attrs:{id:"提交代码push规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提交代码push规范"}},[t._v("#")]),t._v(" 提交代码push规范")]),t._v(" "),a("ul",[a("li",[t._v("提交代码之前要在vs code中自我review一下！")]),t._v(" "),a("li",[t._v("另外注意自己push的时候所在的分支！")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/su-fangzhou/blog-image/raw/master/202202111721849.png",alt:"image-20220211172155548"}})]),t._v(" "),a("p",[t._v("刚开始工作的时候稀里糊涂地随意提交搞出来脏提交分支的感觉非常蓝受！")]),t._v(" "),a("p",[t._v("（注意：提出来脏分支问题不是很大，没必要退回之前版本然后用"),a("code",[t._v("git push --force")]),t._v("来强推，这个更不规范！）")]),t._v(" "),a("h3",{attrs:{id:"setinterval中不要使用usestate中的方法修改变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setinterval中不要使用usestate中的方法修改变量"}},[t._v("#")]),t._v(" "),a("code",[t._v("setInterval")]),t._v("中不要使用"),a("code",[t._v("useState")]),t._v("中的方法修改变量")]),t._v(" "),a("blockquote",[a("p",[t._v("应该是闭包引发的问题")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.5axxw.com/questions/content/5rywco",target:"_blank",rel:"noopener noreferrer"}},[t._v("setInterval和useState-在间隔内使用更新状态的条件语句"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("传递到"),a("code",[t._v("setInterval")]),t._v("闭包的回调只访问第一次呈现中的时间变量，而在随后的呈现中它无权访问新的时间值，因为第二次没有调用"),a("code",[t._v("useffect()")])])]),t._v(" "),a("p",[t._v("下面的"),a("code",[t._v("setData")]),t._v("方法是异步的 ， 如果使用在"),a("code",[t._v("setInterval")]),t._v("中会导致无法正常更新data的数据")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" getList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("因为没有在"),a("code",[t._v("setInterval")]),t._v("中更新data的数据  导致我当时做的一个 "),a("strong",[t._v("定时发送"),a("code",[t._v("getList")]),t._v("请求")]),t._v("的需求出现问题——切到第二页之后隔一段时间发送的请求附带的参数是第一页的")]),t._v(" "),a("blockquote",[a("p",[t._v("解决问题：使用了钩子"),a("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-reference.html#useref",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("useRef")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("以下代码去除了与 "),a("code",[t._v("useRef")]),t._v("以及定时刷新业务无关的大部分代码 无敏感数据~")]),t._v(" "),a("p",[t._v("注意观察下面各个方法中 "),a("code",[t._v("getList")]),t._v(" 的使用方法~")])]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useRef "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" withRouter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_QUERY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("page")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("page_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("xxxTask")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 👇之前使用的 const [query, setQuery] = useState(DEFAULT_QUERY) 改用useRef钩子")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" queryRef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_QUERY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getList")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_QUERY")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newQuery "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("queryRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("params\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      queryRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newQuery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 传入基础参数（各种id）与新参数（newQuery） 调用对应接口")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTaskLists")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("project_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" userId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" userid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("newQuery\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获得要渲染的列表")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setListData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tasks_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 换页的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("changePagination")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pageSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("page")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("page_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" pageSize "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPrejectId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" reloadDataTimer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不能覆盖原来的query参数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 销毁组件时清除掉计时器")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reloadDataTimer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 渲染的任务列表-一部分")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" columns "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'任务名称'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("dataIndex")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'task_name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'task_name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'创建时间'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("dataIndex")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'created_time'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'created_time'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除一个任务 使用async await发送异步请求")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("delTask")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("taskName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("project_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" userId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("task_name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" taskName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'删除成功'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重置列表，回到了第一页")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("styles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("predictiontask"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("styles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("predictiontask_body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("styles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("styles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n          ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Button")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("icon")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlusOutlined")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/workspace/model-experiment/prediction_task/add_task?id=")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("prejectId"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("新建任务")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Button")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Table")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("columns")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("columns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("pagination")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("showTotal")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("共")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("total"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("条")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("showQuickJumper")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("onChange")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" changePagination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pageSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" queryRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("page_size\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("loading")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("loading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("dataSource")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("listData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rowClassName")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("setRowClassName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rowKey")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("task_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用withRouter使location参数可以拿到浏览器地址栏的参数~（不用withRouter的话 直接从上层传下来location 也可以用~）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PredictionTask"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"setlist-newlist-来进行更新-而不是使用setlist-newlist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setlist-newlist-来进行更新-而不是使用setlist-newlist"}},[t._v("#")]),t._v(" "),a("code",[t._v("setList({ …newList })")]),t._v("来进行更新 而不是使用"),a("code",[t._v("setList(newList)")])]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("b")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("最基础的点上踩坑，没谁了。。")]),t._v(" "),a("p",[t._v("使用同一个对象（"),a("code",[t._v("newList")]),t._v("）来更新的话"),a("code",[t._v("setList")]),t._v("表示他并不认账——")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这样是不能成功更新list的！这个list（在堆中的）地址没有变！")]),t._v("\n")])])]),a("p",[t._v("使用全新的对象进行更新才对！——")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("list "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用新对象来更新")]),t._v("\n")])])]),a("h3",{attrs:{id:"工作前期-开发新功能的时候不要没想好就开始写-要先问好前辈这么写对不对"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作前期-开发新功能的时候不要没想好就开始写-要先问好前辈这么写对不对"}},[t._v("#")]),t._v(" （工作前期）开发新功能的时候不要没想好就开始写（要先问好前辈这么写对不对）")]),t._v(" "),a("p",[a("strong",[t._v("有可能你的想法是很复杂且不正确的！")])]),t._v(" "),a("p",[t._v("碰到一个点：（组件关系 任务->模型）")]),t._v(" "),a("p",[t._v("要求：hover在任务的一个字段上的时候要显示数据，数据从任务对应的模型中拿到。")]),t._v(" "),a("p",[t._v("我当时就想着给模型组件传个方法过去 然后让子组件调用这个回调方法，这样任务中就可以拿到数据了")]),t._v(" "),a("p",[t._v("这样缺点很多——")]),t._v(" "),a("ul",[a("li",[t._v("需要频繁调用子组件中的方法")]),t._v(" "),a("li",[t._v("难写！！")])]),t._v(" "),a("p",[a("strong",[t._v("实际上直接让后端把具体的数据给返回下就好了…")])]),t._v(" "),a("h3",{attrs:{id:"封装组件时最好不要使用状态管理库中的方法-最好直接调service中的接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#封装组件时最好不要使用状态管理库中的方法-最好直接调service中的接口"}},[t._v("#")]),t._v(" 封装组件时最好不要使用状态管理库中的方法 最好直接调service中的接口")]),t._v(" "),a("p",[t._v("调状态管理库中的方法有可能会影响状态管理库中存储的内容！")])])}),[],!1,null,null,null);s.default=e.exports}}]);